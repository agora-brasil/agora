<section id="communities">
  <h1>{{community.name}}</h1>
  <a ui-sref="communities_topics_new(community)">
    <i class="fa fa-plus"></i>
    Criar um tópico
  </a>

  <h3>Tópicos</h3>
  <p class="text-muted" ng-if="!topics.length">Ainda não há tópicos</p>

  <ul class="topics-list" ng-if="topics.length">
    <li ng-repeat="t in topics">
      <div class="row">
        <div class="col-sm-1">
          <a href="javascript:;"><i class="vote fa fa-caret-up"></i></a>
          <a href="javascript:;"><i class="vote fa fa-caret-down"></i></a>
        </div>

        <div class="col-sm-11">
          <div>
            <a class="title" ui-sref="communities_topics_show({id: community.id, topicId: t.id})">{{t.title}}</a>
            <small>
              <a href="#">
                <img class="avatar" ng-src="{{ user.facebookPictureUrl() }}" alt="avatar" width="20">
                {{ user.first_name }} {{ user.last_name }}
              </a>
              -
              {{t.date | formatDate}}
            </small>
          </div>
          <p>{{t.text}}</p>

          <div class="life-cycle">
            <small ng-class="t.classForStep(Steps.discussion)">Em discussão</small>

            <small ng-class="t.classForStep(Steps.proposal)" class="fa fa-long-arrow-right"></small>
            <small ng-class="t.classForStep(Steps.proposal)">Proposta em andamento</small>

            <small ng-class="t.classForStep(Steps.decision)" class="fa fa-long-arrow-right"></small>
            <small ng-class="t.classForStep(Steps.decision)">Proposta em decisão</small>

            <small ng-class="t.classForStep(Steps.approved)" class="fa fa-long-arrow-right"></small>
            <small ng-class="t.classForStep(Steps.approved)">{{t.proposalResult()}}</small>
          </div>
        </div>
      </div>
    </li>
  </ul>
</section>
